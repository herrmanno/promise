var ho;!function(t){var e;!function(t){var e=function(){function t(t){this.data=void 0,this.onResolve=void 0,this.onReject=void 0,this.resolved=!1,this.rejected=!1,this.done=!1,this.ret=void 0,"function"==typeof t&&t.call(arguments.callee,this.resolve.bind(this),this.reject.bind(this))}return t.prototype.set=function(t){if(this.done)throw"Promise is already resolved / rejected";this.data=t},t.prototype.resolve=function(t){this.set(t),this.resolved=this.done=!0,"function"==typeof this.onResolve&&this._resolve()},t.prototype._resolve=function(){void 0===this.ret&&(this.ret=new t);var e=this.onResolve(this.data);e&&e instanceof t?e.then(this.ret.resolve,this.ret.reject):this.ret.resolve(e)},t.prototype.reject=function(t){this.set(t),this.rejected=this.done=!0,"function"==typeof this.onReject&&this.onReject(this.data),this.ret&&this.ret.reject(this.data)},t.prototype._reject=function(){void 0===this.ret&&(this.ret=new t),this.onReject(this.data),this.ret.reject(this.data)},t.prototype.then=function(e,i){return void 0===this.ret&&(this.ret=new t),e&&"function"==typeof e&&(this.onResolve=e),i&&"function"==typeof i&&(this.onReject=i),this.resolved&&this._resolve(),this.rejected&&this._reject(),this.ret},t.prototype["catch"]=function(t){this.onReject=t,this.rejected&&this._reject()},t.all=function(e){var i=new t,o=[];return 0===e.length?i.resolve():e.forEach(function(t,n){t.then(function(t){if(!i.done){o[n]=t;var r=e.reduce(function(t,e){return t&&e.resolved},!0);r&&i.resolve(o)}})["catch"](function(t){i.reject(t)})}),i},t.chain=function(e){function i(){if(!o.done){var t=e.length?e.shift():o;t.then(function(t){n.push(t),i()},function(t){o.reject(t)})}}var o=new t,n=[];return i(),o},t.create=function(e){if(e instanceof t)return e;var i=new t;return i.resolve(e),i},t}();t.Promise=e}(e=t.promise||(t.promise={}))}(ho||(ho={}));